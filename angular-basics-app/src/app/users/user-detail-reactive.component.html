<div class="card">
  <div class="card-header">
    {{ pageTitle }}
  </div>
  <div class="card-body">
    <form novalidate (ngSubmit)="save()" [formGroup]="userForm">
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="txtName">
          User Name
        </label>
        <div class="col-md-8">
          <input
            class="form-control"
            id="txtName"
            type="text"
            placeholder="Enter Name"
            required
            minlength="5"
            formControlName="name"
            [ngClass]="{
              'is-invalid': (name.touched || name.dirty) && !name.valid
            }"
          />
          <span class="invalid-feedback">
            <span *ngIf="name.errors?.required">
              Please enter your name.
            </span>
            <span *ngIf="name.errors?.minlength">
              Name must be longer than 5 characters.
            </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="textEmail">
          Email Address
        </label>
        <div class="col-md-8">
          <input
            class="form-control"
            id="textEmail"
            type="text"
            placeholder="Enter Email"
            required
            formControlName="email"
            [ngClass]="{
              'is-invalid':
                (userForm.controls.email.touched ||
                  userForm.controls.email.dirty) &&
                !userForm.controls.email.valid
            }"
          />
          <span class="invalid-feedback">
            <span *ngIf="userForm.controls.email.errors?.required">
              Please enter your email address.
            </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="textPhoneNumber">
          Phone Number
        </label>
        <div class="col-md-8">
          <input
            class="form-control"
            id="textPhoneNumber"
            type="text"
            placeholder="Enter phone number"
            required
            formControlName="phoneNumber"
            [ngClass]="{
              'is-invalid':
                (userForm.get('phoneNumber').touched ||
                  userForm.get('phoneNumber').dirty) &&
                !userForm.get('phoneNumber').valid
            }"
          />
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('phoneNumber').errors?.required">
              Please enter your phone number.
            </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <div class="offset-md-2 col-md-4">
          <button
            class="btn btn-primary mr-3"
            type="submit"
            style="width:80px"
            [title]="
              userForm.valid
                ? 'Save your entered data'
                : 'Disabled until the form data is valid'
            "
            [disabled]="!userForm.valid"
          >
            Save
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<br />Touched: {{ userForm.touched }} <br />Dirty: {{ userForm.dirty }}
<br />Valid: {{ userForm.valid }} <br />Value: {{ userForm.value | json }}
<br />Name error: {{ name.errors | json }}
<br />Email error: {{ userForm.controls.email.errors | json }}
<br />Phone number error: {{ userForm.get("phoneNumber").errors | json }}
